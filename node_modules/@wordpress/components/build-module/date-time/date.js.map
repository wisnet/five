{"version":3,"sources":["/Users/riad/Workspace/a8c/gutenberg/packages/components/src/date-time/date.js"],"names":["moment","DayPickerSingleDateController","Component","TIMEZONELESS_FORMAT","isRTL","document","documentElement","dir","DatePicker","arguments","onChangeMoment","bind","newDate","props","currentDate","onChange","momentDate","momentTime","hours","minutes","seconds","set","format"],"mappings":";;;;;;;;AAAA;;;AAGA,OAAOA,MAAP,MAAmB,QAAnB;AACA,SAASC,6BAAT,QAA8C,aAA9C;AAEA;;;;AAGA,SAASC,SAAT,QAA0B,oBAA1B;AAEA;;;;AAGA,IAAMC,mBAAmB,GAAG,qBAA5B;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAMC,QAAQ,CAACC,eAAT,CAAyBC,GAAzB,KAAiC,KAAvC;AAAA,CAAd;;IAEMC,U;;;;;AACL,wBAAc;AAAA;;AAAA;;AACb,qFAAUC,SAAV;AAEA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,uDAAtB;AAHa;AAIb;;;;mCAEeC,O,EAAU;AAAA,wBACS,KAAKC,KADd;AAAA,UACjBC,WADiB,eACjBA,WADiB;AAAA,UACJC,QADI,eACJA,QADI;AAGzB,UAAMC,UAAU,GAAGF,WAAW,GAAGd,MAAM,CAAEc,WAAF,CAAT,GAA2Bd,MAAM,EAA/D;AACA,UAAMiB,UAAU,GAAG;AAClBC,QAAAA,KAAK,EAAEF,UAAU,CAACE,KAAX,EADW;AAElBC,QAAAA,OAAO,EAAEH,UAAU,CAACG,OAAX,EAFS;AAGlBC,QAAAA,OAAO,EAAEJ,UAAU,CAACI,OAAX;AAHS,OAAnB;AAMAL,MAAAA,QAAQ,CAAEH,OAAO,CAACS,GAAR,CAAaJ,UAAb,EAA0BK,MAA1B,CAAkCnB,mBAAlC,CAAF,CAAR;AACA;;;6BAEQ;AAAA,UACAW,WADA,GACgB,KAAKD,KADrB,CACAC,WADA;AAGR,UAAME,UAAU,GAAGF,WAAW,GAAGd,MAAM,CAAEc,WAAF,CAAT,GAA2Bd,MAAM,EAA/D;AAEA,aACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC,cAAC,6BAAD;AACC,QAAA,KAAK,MADN;AAEC,QAAA,IAAI,EAAGgB,UAFR;AAGC,QAAA,OAAO,EAAG,EAHX;AAIC,QAAA,OAAO,MAJR;AAKC,QAAA,0BAA0B,MAL3B,CAMC;AACA;AAPD;AAQC,QAAA,GAAG,kCAA6BA,UAAU,CAACM,MAAX,CAAmB,SAAnB,CAA7B,CARJ;AASC,QAAA,QAAQ,MATT;AAUC,QAAA,cAAc,EAAG,CAVlB;AAWC,QAAA,YAAY,EAAG,KAAKZ,cAXrB;AAYC,QAAA,kBAAkB,EAAG,CAZtB;AAaC,QAAA,aAAa,EAAC,KAbf;AAcC,QAAA,KAAK,EAAGN,KAAK;AAdd,QADD,CADD;AAoBA;;;;EA7CuBF,S;;AAgDzB,eAAeM,UAAf","sourcesContent":["/**\n * External dependencies\n */\nimport moment from 'moment';\nimport { DayPickerSingleDateController } from 'react-dates';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\n\n/**\n * Module Constants\n */\nconst TIMEZONELESS_FORMAT = 'YYYY-MM-DDTHH:mm:ss';\nconst isRTL = () => document.documentElement.dir === 'rtl';\n\nclass DatePicker extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onChangeMoment = this.onChangeMoment.bind( this );\n\t}\n\n\tonChangeMoment( newDate ) {\n\t\tconst { currentDate, onChange } = this.props;\n\n\t\tconst momentDate = currentDate ? moment( currentDate ) : moment();\n\t\tconst momentTime = {\n\t\t\thours: momentDate.hours(),\n\t\t\tminutes: momentDate.minutes(),\n\t\t\tseconds: momentDate.seconds(),\n\t\t};\n\n\t\tonChange( newDate.set( momentTime ).format( TIMEZONELESS_FORMAT ) );\n\t}\n\n\trender() {\n\t\tconst { currentDate } = this.props;\n\n\t\tconst momentDate = currentDate ? moment( currentDate ) : moment();\n\n\t\treturn (\n\t\t\t<div className=\"components-datetime__date\">\n\t\t\t\t<DayPickerSingleDateController\n\t\t\t\t\tblock\n\t\t\t\t\tdate={ momentDate }\n\t\t\t\t\tdaySize={ 30 }\n\t\t\t\t\tfocused\n\t\t\t\t\thideKeyboardShortcutsPanel\n\t\t\t\t\t// This is a hack to force the calendar to update on month or year change\n\t\t\t\t\t// https://github.com/airbnb/react-dates/issues/240#issuecomment-361776665\n\t\t\t\t\tkey={ `datepicker-controller-${ momentDate.format( 'MM-YYYY' ) }` }\n\t\t\t\t\tnoBorder\n\t\t\t\t\tnumberOfMonths={ 1 }\n\t\t\t\t\tonDateChange={ this.onChangeMoment }\n\t\t\t\t\ttransitionDuration={ 0 }\n\t\t\t\t\tweekDayFormat=\"ddd\"\n\t\t\t\t\tisRTL={ isRTL() }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DatePicker;\n"]}