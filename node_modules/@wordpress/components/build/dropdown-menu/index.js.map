{"version":3,"sources":["/Users/riad/Workspace/a8c/gutenberg/packages/components/src/dropdown-menu/index.js"],"names":["DropdownMenu","icon","label","menuLabel","controls","className","length","controlSets","Array","isArray","isOpen","onToggle","openOnArrowDown","event","keyCode","DOWN","preventDefault","stopPropagation","onClose","controlSet","indexOfSet","map","control","indexOfControl","join","onClick","isActive","isDisabled","title"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AAKA;;AAKA;;AACA;;AACA;;AAhBA;;;;AAMA;;;;AAKA;;;AAOA,SAASA,YAAT,OAMI;AAAA,uBALHC,IAKG;AAAA,MALHA,IAKG,0BALI,MAKJ;AAAA,MAJHC,KAIG,QAJHA,KAIG;AAAA,MAHHC,SAGG,QAHHA,SAGG;AAAA,MAFHC,QAEG,QAFHA,QAEG;AAAA,MADHC,SACG,QADHA,SACG;;AACH,MAAK,CAAED,QAAF,IAAc,CAAEA,QAAQ,CAACE,MAA9B,EAAuC;AACtC,WAAO,IAAP;AACA,GAHE,CAKH;;;AACA,MAAIC,WAAW,GAAGH,QAAlB;;AACA,MAAK,CAAEI,KAAK,CAACC,OAAN,CAAeF,WAAW,CAAE,CAAF,CAA1B,CAAP,EAA2C;AAC1CA,IAAAA,WAAW,GAAG,CAAEA,WAAF,CAAd;AACA;;AAED,SACC,4BAAC,iBAAD;AACC,IAAA,SAAS,EAAG,yBAAY,0BAAZ,EAAwCF,SAAxC,CADb;AAEC,IAAA,gBAAgB,EAAC,mCAFlB;AAGC,IAAA,YAAY,EAAG,6BAA4B;AAAA,UAAxBK,MAAwB,SAAxBA,MAAwB;AAAA,UAAhBC,QAAgB,SAAhBA,QAAgB;;AAC1C,UAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAEC,KAAF,EAAa;AACpC,YAAK,CAAEH,MAAF,IAAYG,KAAK,CAACC,OAAN,KAAkBC,cAAnC,EAA0C;AACzCF,UAAAA,KAAK,CAACG,cAAN;AACAH,UAAAA,KAAK,CAACI,eAAN;AACAN,UAAAA,QAAQ;AACR;AACD,OAND;;AAOA,aACC,4BAAC,mBAAD;AACC,QAAA,SAAS,EAAC,kCADX;AAEC,QAAA,IAAI,EAAGV,IAFR;AAGC,QAAA,OAAO,EAAGU,QAHX;AAIC,QAAA,SAAS,EAAGC,eAJb;AAKC,yBAAc,MALf;AAMC,yBAAgBF,MANjB;AAOC,QAAA,KAAK,EAAGR,KAPT;AAQC,QAAA,OAAO,EAAGA;AARX,SAUC;AAAM,QAAA,SAAS,EAAC;AAAhB,QAVD,CADD;AAcA,KAzBF;AA0BC,IAAA,aAAa,EAAG,8BAAmB;AAAA,UAAfgB,OAAe,SAAfA,OAAe;AAClC,aACC,4BAAC,iCAAD;AACC,QAAA,SAAS,EAAC,gCADX;AAEC,QAAA,IAAI,EAAC,MAFN;AAGC,sBAAaf;AAHd,SAKG,qBAASI,WAAT,EAAsB,UAAEY,UAAF,EAAcC,UAAd;AAAA,eACvBD,UAAU,CAACE,GAAX,CAAgB,UAAEC,OAAF,EAAWC,cAAX;AAAA,iBACf,4BAAC,mBAAD;AACC,YAAA,GAAG,EAAG,CAAEH,UAAF,EAAcG,cAAd,EAA+BC,IAA/B,EADP;AAEC,YAAA,OAAO,EAAG,iBAAEX,KAAF,EAAa;AACtBA,cAAAA,KAAK,CAACI,eAAN;AACAC,cAAAA,OAAO;;AACP,kBAAKI,OAAO,CAACG,OAAb,EAAuB;AACtBH,gBAAAA,OAAO,CAACG,OAAR;AACA;AACD,aARF;AASC,YAAA,SAAS,EAAG,yBACX,qCADW,EAEX;AACC,+BAAiBL,UAAU,GAAG,CAAb,IAAkBG,cAAc,KAAK,CADvD;AAEC,2BAAaD,OAAO,CAACI;AAFtB,aAFW,CATb;AAgBC,YAAA,IAAI,EAAGJ,OAAO,CAACrB,IAhBhB;AAiBC,YAAA,IAAI,EAAC,UAjBN;AAkBC,YAAA,QAAQ,EAAGqB,OAAO,CAACK;AAlBpB,aAoBGL,OAAO,CAACM,KApBX,CADe;AAAA,SAAhB,CADuB;AAAA,OAAtB,CALH,CADD;AAkCA;AA7DF,IADD;AAiEA;;eAEc5B,Y","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { flatMap } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { DOWN } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport IconButton from '../icon-button';\nimport Dropdown from '../dropdown';\nimport { NavigableMenu } from '../navigable-container';\n\nfunction DropdownMenu( {\n\ticon = 'menu',\n\tlabel,\n\tmenuLabel,\n\tcontrols,\n\tclassName,\n} ) {\n\tif ( ! controls || ! controls.length ) {\n\t\treturn null;\n\t}\n\n\t// Normalize controls to nested array of objects (sets of controls)\n\tlet controlSets = controls;\n\tif ( ! Array.isArray( controlSets[ 0 ] ) ) {\n\t\tcontrolSets = [ controlSets ];\n\t}\n\n\treturn (\n\t\t<Dropdown\n\t\t\tclassName={ classnames( 'components-dropdown-menu', className ) }\n\t\t\tcontentClassName=\"components-dropdown-menu__popover\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => {\n\t\t\t\tconst openOnArrowDown = ( event ) => {\n\t\t\t\t\tif ( ! isOpen && event.keyCode === DOWN ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tonToggle();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn (\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tclassName=\"components-dropdown-menu__toggle\"\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tonKeyDown={ openOnArrowDown }\n\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\ttooltip={ label }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"components-dropdown-menu__indicator\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trenderContent={ ( { onClose } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<NavigableMenu\n\t\t\t\t\t\tclassName=\"components-dropdown-menu__menu\"\n\t\t\t\t\t\trole=\"menu\"\n\t\t\t\t\t\taria-label={ menuLabel }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ flatMap( controlSets, ( controlSet, indexOfSet ) => (\n\t\t\t\t\t\t\tcontrolSet.map( ( control, indexOfControl ) => (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tkey={ [ indexOfSet, indexOfControl ].join() }\n\t\t\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t\tif ( control.onClick ) {\n\t\t\t\t\t\t\t\t\t\t\tcontrol.onClick();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t'components-dropdown-menu__menu-item',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t'has-separator': indexOfSet > 0 && indexOfControl === 0,\n\t\t\t\t\t\t\t\t\t\t\t'is-active': control.isActive,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\ticon={ control.icon }\n\t\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\t\tdisabled={ control.isDisabled }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ control.title }\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t) )\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</NavigableMenu>\n\t\t\t\t);\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nexport default DropdownMenu;\n"]}