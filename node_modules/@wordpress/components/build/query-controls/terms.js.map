{"version":3,"sources":["/Users/riad/Workspace/a8c/gutenberg/packages/components/src/query-controls/terms.js"],"names":["buildTermsTree","flatTerms","termsByParent","fillWithChildren","terms","map","term","children","id","length"],"mappings":";;;;;;;;;;;AAGA;;AAHA;;;;AAKA;;;;;;;AAOO,SAASA,cAAT,CAAyBC,SAAzB,EAAqC;AAC3C,MAAMC,aAAa,GAAG,qBAASD,SAAT,EAAoB,QAApB,CAAtB;;AACA,MAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAEC,KAAF,EAAa;AACrC,WAAOA,KAAK,CAACC,GAAN,CAAW,UAAEC,IAAF,EAAY;AAC7B,UAAMC,QAAQ,GAAGL,aAAa,CAAEI,IAAI,CAACE,EAAP,CAA9B;AACA,6CACIF,IADJ;AAECC,QAAAA,QAAQ,EAAEA,QAAQ,IAAIA,QAAQ,CAACE,MAArB,GACTN,gBAAgB,CAAEI,QAAF,CADP,GAET;AAJF;AAMA,KARM,CAAP;AASA,GAVD;;AAYA,SAAOJ,gBAAgB,CAAED,aAAa,CAAE,GAAF,CAAb,IAAwB,EAA1B,CAAvB;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport { groupBy } from 'lodash';\n\n/**\n * Returns terms in a tree form.\n *\n * @param {Array} flatTerms  Array of terms in flat format.\n *\n * @return {Array} Array of terms in tree format.\n */\nexport function buildTermsTree( flatTerms ) {\n\tconst termsByParent = groupBy( flatTerms, 'parent' );\n\tconst fillWithChildren = ( terms ) => {\n\t\treturn terms.map( ( term ) => {\n\t\t\tconst children = termsByParent[ term.id ];\n\t\t\treturn {\n\t\t\t\t...term,\n\t\t\t\tchildren: children && children.length ?\n\t\t\t\t\tfillWithChildren( children ) :\n\t\t\t\t\t[],\n\t\t\t};\n\t\t} );\n\t};\n\n\treturn fillWithChildren( termsByParent[ '0' ] || [] );\n}\n"]}