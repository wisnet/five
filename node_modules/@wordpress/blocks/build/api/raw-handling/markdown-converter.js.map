{"version":3,"sources":["/Users/riad/Workspace/a8c/gutenberg/packages/blocks/src/api/raw-handling/markdown-converter.js"],"names":["converter","showdown","Converter","noHeaderId","tables","literalMidWordUnderscores","omitExtraWLInCodeBlocks","simpleLineBreaks","strikethrough","slackMarkdownVariantCorrector","text","replace","match","p1","p2","p3","makeHtml"],"mappings":";;;;;;;;;AAGA;;AAHA;;;AAKA;AACA,IAAMA,SAAS,GAAG,IAAIC,kBAASC,SAAb,CAAwB;AACzCC,EAAAA,UAAU,EAAE,IAD6B;AAEzCC,EAAAA,MAAM,EAAE,IAFiC;AAGzCC,EAAAA,yBAAyB,EAAE,IAHc;AAIzCC,EAAAA,uBAAuB,EAAE,IAJgB;AAKzCC,EAAAA,gBAAgB,EAAE,IALuB;AAMzCC,EAAAA,aAAa,EAAE;AAN0B,CAAxB,CAAlB;AASA;;;;;;;;;;;AAUA,SAASC,6BAAT,CAAwCC,IAAxC,EAA+C;AAC9C,SAAOA,IAAI,CAACC,OAAL,CACN,qCADM,EAEN,UAAEC,KAAF,EAASC,EAAT,EAAaC,EAAb,EAAiBC,EAAjB;AAAA,qBAA6BF,EAA7B,eAAsCC,EAAtC,eAA+CC,EAA/C;AAAA,GAFM,CAAP;AAIA;AAED;;;;;;;;;;AAQe,kBAAUL,IAAV,EAAiB;AAC/B,SAAOV,SAAS,CAACgB,QAAV,CAAoBP,6BAA6B,CAAEC,IAAF,CAAjD,CAAP;AACA","sourcesContent":["/**\n * External dependencies\n */\nimport showdown from 'showdown';\n\n// Reuse the same showdown converter.\nconst converter = new showdown.Converter( {\n\tnoHeaderId: true,\n\ttables: true,\n\tliteralMidWordUnderscores: true,\n\tomitExtraWLInCodeBlocks: true,\n\tsimpleLineBreaks: true,\n\tstrikethrough: true,\n} );\n\n/**\n * Corrects the Slack Markdown variant of the code block.\n * If uncorrected, it will be converted to inline code.\n *\n * @see https://get.slack.help/hc/en-us/articles/202288908-how-can-i-add-formatting-to-my-messages-#code-blocks\n *\n * @param {string} text The potential Markdown text to correct.\n *\n * @return {string} The corrected Markdown.\n */\nfunction slackMarkdownVariantCorrector( text ) {\n\treturn text.replace(\n\t\t/((?:^|\\n)```)([^\\n`]+)(```(?:$|\\n))/,\n\t\t( match, p1, p2, p3 ) => `${ p1 }\\n${ p2 }\\n${ p3 }`\n\t);\n}\n\n/**\n * Converts a piece of text into HTML based on any Markdown present.\n * Also decodes any encoded HTML.\n *\n * @param {string} text The plain text to convert.\n *\n * @return {string} HTML.\n */\nexport default function( text ) {\n\treturn converter.makeHtml( slackMarkdownVariantCorrector( text ) );\n}\n"]}