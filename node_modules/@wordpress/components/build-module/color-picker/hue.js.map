{"version":3,"sources":["/Users/riad/Workspace/a8c/gutenberg/packages/components/src/color-picker/hue.js"],"names":["noop","withInstanceId","__","Component","createRef","TAB","calculateHueChange","KeyboardShortcuts","Hue","arguments","container","increase","bind","decrease","handleChange","handleMouseDown","handleMouseUp","unbindEventListeners","amount","props","hsl","onChange","change","h","s","l","a","source","e","current","window","addEventListener","event","keyCode","preventDefault","removeEventListener","instanceId","pointerLocation","left","shortcuts","up","right","pageup","end","down","pagedown","home","preventKeyEvents"],"mappings":"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","sourcesContent":["/**\n * Parts of this source were derived and modified from react-color,\n * released under the MIT license.\n *\n * https://github.com/casesandberg/react-color/\n *\n * Copyright (c) 2015 Case Sandberg\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { TAB } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { calculateHueChange } from './utils';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\n\nexport class Hue extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.container = createRef();\n\t\tthis.increase = this.increase.bind( this );\n\t\tthis.decrease = this.decrease.bind( this );\n\t\tthis.handleChange = this.handleChange.bind( this );\n\t\tthis.handleMouseDown = this.handleMouseDown.bind( this );\n\t\tthis.handleMouseUp = this.handleMouseUp.bind( this );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unbindEventListeners();\n\t}\n\n\tincrease( amount = 1 ) {\n\t\tconst { hsl, onChange = noop } = this.props;\n\t\tconst change = {\n\t\t\th: hsl.h + amount >= 359 ? 359 : hsl.h + amount,\n\t\t\ts: hsl.s,\n\t\t\tl: hsl.l,\n\t\t\ta: hsl.a,\n\t\t\tsource: 'rgb',\n\t\t};\n\t\tonChange( change );\n\t}\n\n\tdecrease( amount = 1 ) {\n\t\tconst { hsl, onChange = noop } = this.props;\n\t\tconst change = {\n\t\t\th: hsl.h <= amount ? 0 : hsl.h - amount,\n\t\t\ts: hsl.s,\n\t\t\tl: hsl.l,\n\t\t\ta: hsl.a,\n\t\t\tsource: 'rgb',\n\t\t};\n\t\tonChange( change );\n\t}\n\n\thandleChange( e ) {\n\t\tconst { onChange = noop } = this.props;\n\t\tconst change = calculateHueChange( e, this.props, this.container.current );\n\t\tif ( change ) {\n\t\t\tonChange( change, e );\n\t\t}\n\t}\n\n\thandleMouseDown( e ) {\n\t\tthis.handleChange( e );\n\t\twindow.addEventListener( 'mousemove', this.handleChange );\n\t\twindow.addEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\thandleMouseUp() {\n\t\tthis.unbindEventListeners();\n\t}\n\n\tpreventKeyEvents( event ) {\n\t\tif ( event.keyCode === TAB ) {\n\t\t\treturn;\n\t\t}\n\t\tevent.preventDefault();\n\t}\n\n\tunbindEventListeners() {\n\t\twindow.removeEventListener( 'mousemove', this.handleChange );\n\t\twindow.removeEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\trender() {\n\t\tconst { hsl = {}, instanceId } = this.props;\n\n\t\tconst pointerLocation = { left: `${ ( hsl.h * 100 ) / 360 }%` };\n\t\tconst shortcuts = {\n\t\t\tup: () => this.increase(),\n\t\t\tright: () => this.increase(),\n\t\t\t'shift+up': () => this.increase( 10 ),\n\t\t\t'shift+right': () => this.increase( 10 ),\n\t\t\tpageup: () => this.increase( 10 ),\n\t\t\tend: () => this.increase( 359 ),\n\t\t\tdown: () => this.decrease(),\n\t\t\tleft: () => this.decrease(),\n\t\t\t'shift+down': () => this.decrease( 10 ),\n\t\t\t'shift+left': () => this.decrease( 10 ),\n\t\t\tpagedown: () => this.decrease( 10 ),\n\t\t\thome: () => this.decrease( 359 ),\n\t\t};\n\n\t\treturn (\n\t\t\t<KeyboardShortcuts shortcuts={ shortcuts }>\n\t\t\t\t<div className=\"components-color-picker__hue\">\n\t\t\t\t\t<div className=\"components-color-picker__hue-gradient\" />\n\t\t\t\t\t{ /* eslint-disable jsx-a11y/no-static-element-interactions */ }\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"components-color-picker__hue-bar\"\n\t\t\t\t\t\tref={ this.container }\n\t\t\t\t\t\tonMouseDown={ this.handleMouseDown }\n\t\t\t\t\t\tonTouchMove={ this.handleChange }\n\t\t\t\t\t\tonTouchStart={ this.handleChange }>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\t\trole=\"slider\"\n\t\t\t\t\t\t\taria-valuemax=\"1\"\n\t\t\t\t\t\t\taria-valuemin=\"359\"\n\t\t\t\t\t\t\taria-valuenow={ hsl.h }\n\t\t\t\t\t\t\taria-orientation=\"horizontal\"\n\t\t\t\t\t\t\taria-label={ __( 'Hue value in degrees, from 0 to 359.' ) }\n\t\t\t\t\t\t\taria-describedby={ `components-color-picker__hue-description-${ instanceId }` }\n\t\t\t\t\t\t\tclassName=\"components-color-picker__hue-pointer\"\n\t\t\t\t\t\t\tstyle={ pointerLocation }\n\t\t\t\t\t\t\tonKeyDown={ this.preventKeyEvents }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName=\"components-color-picker__hue-description screen-reader-text\"\n\t\t\t\t\t\t\tid={ `components-color-picker__hue-description-${ instanceId }` }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Move the arrow left or right to change hue.' ) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ /* eslint-enable jsx-a11y/no-static-element-interactions */ }\n\t\t\t\t</div>\n\t\t\t</KeyboardShortcuts>\n\t\t);\n\t}\n}\n\nexport default withInstanceId( Hue );\n"]}