{"version":3,"sources":["/Users/riad/Workspace/a8c/gutenberg/packages/data/src/plugins/controls/index.js"],"names":["registry","registerStore","reducerKey","options","store","controls","middleware","enhancer","createStore","Object","assign","reducer","namespaces","supportControls"],"mappings":";;;;;;;;;AAGA;;AAKA;;AARA;;;;AAKA;;;AAKe,kBAAUA,QAAV,EAAqB;AACnC,SAAO;AACNC,IAAAA,aADM,yBACSC,UADT,EACqBC,OADrB,EAC+B;AACpC,UAAMC,KAAK,GAAGJ,QAAQ,CAACC,aAAT,CAAwBC,UAAxB,EAAoCC,OAApC,CAAd;;AAEA,UAAKA,OAAO,CAACE,QAAb,EAAwB;AACvB,YAAMC,UAAU,GAAG,2BAAkBH,OAAO,CAACE,QAA1B,CAAnB;AACA,YAAME,QAAQ,GAAG,4BAAiBD,UAAjB,CAAjB;;AACA,YAAME,WAAW,GAAG,SAAdA,WAAc;AAAA,iBAAMJ,KAAN;AAAA,SAApB;;AAEAK,QAAAA,MAAM,CAACC,MAAP,CACCN,KADD,EAECG,QAAQ,CAAEC,WAAF,CAAR,CAAyBL,OAAO,CAACQ,OAAjC,CAFD;AAKAX,QAAAA,QAAQ,CAACY,UAAT,CAAqBV,UAArB,EAAkCW,eAAlC,GAAoD,IAApD;AACA;;AAED,aAAOT,KAAP;AACA;AAlBK,GAAP;AAoBA","sourcesContent":["/**\n * External dependencies\n */\nimport { applyMiddleware } from 'redux';\n\n/**\n * WordPress dependencies\n */\nimport createMiddleware from '@wordpress/redux-routine';\n\nexport default function( registry ) {\n\treturn {\n\t\tregisterStore( reducerKey, options ) {\n\t\t\tconst store = registry.registerStore( reducerKey, options );\n\n\t\t\tif ( options.controls ) {\n\t\t\t\tconst middleware = createMiddleware( options.controls );\n\t\t\t\tconst enhancer = applyMiddleware( middleware );\n\t\t\t\tconst createStore = () => store;\n\n\t\t\t\tObject.assign(\n\t\t\t\t\tstore,\n\t\t\t\t\tenhancer( createStore )( options.reducer )\n\t\t\t\t);\n\n\t\t\t\tregistry.namespaces[ reducerKey ].supportControls = true;\n\t\t\t}\n\n\t\t\treturn store;\n\t\t},\n\t};\n}\n"]}