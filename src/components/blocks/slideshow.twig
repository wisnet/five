{# src/components/blocks/slideshow.twig #}
{% extends 'blocks/block.twig' %}

{% block content %}
    {% if fields.slides %}
        {% embed 'container.twig' %}
            {% block content %}
                {% embed 'row.twig' %}
                    {% block content %}
                        {% embed 'column.twig' %}
                            {% block content %}
                                <div id="carousel-{{ acf_block.id }}" class="carousel slide" data-ride="carousel">
                                    <div class="carousel-inner">
                                        {% for slide in fields.slides %}
                                            <div class="carousel-item{% if loop.index == 1 %} active{% endif %}">
                                                <img class="d-block img-fluid" src="{{ slide.image.url }}" alt="{{ slide.image.title }}">

                                                <div class="carousel-caption d-none d-md-block">
                                                    <h5>{{ slide.title }}</h5>
                                                    <p>{{ slide.caption }}</p>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    {% if (fields.slides|length) > 1 %}
                                        <a class="carousel-control-prev" href="#carousel-{{ acf_block.id }}" role="button" data-slide="prev">
                                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                            <span class="sr-only">Previous</span>
                                        </a>
                                        <a class="carousel-control-next" href="#carousel-{{ acf_block.id }}" role="button" data-slide="next">
                                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                            <span class="sr-only">Next</span>
                                        </a>
                                        <ol class="carousel-indicators">
                                            {% for slide in fields.slides %}
                                                <li data-target="#carousel-{{ acf_block.id }}" data-slide-to="{{ loop.index0 }}"{% if loop.index == 1 %} class="active"{% endif %}></li>
                                            {% endfor %}
                                        </ol>
                                    {% endif %}
                                </div>
                                </div>
                            {% endblock %}
                        {% endembed %}
                    {% endblock %}
                {% endembed %}
            {% endblock %}
        {% endembed %}
    {% endif %}
{% endblock %}
