{"version":3,"sources":["/Users/riad/Workspace/a8c/gutenberg/packages/redux-routine/src/index.js"],"names":["createMiddleware","controls","store","runtime","dispatch","next","action"],"mappings":";;;;;;;;;AAGA;;AACA;;AAJA;;;;AAMA;;;;;;;;;;;;AAYe,SAASA,gBAAT,GAA2C;AAAA,MAAhBC,QAAgB,uEAAL,EAAK;AACzD,SAAO,UAAEC,KAAF,EAAa;AACnB,QAAMC,OAAO,GAAG,sBAAeF,QAAf,EAAyBC,KAAK,CAACE,QAA/B,CAAhB;AACA,WAAO,UAAEC,IAAF;AAAA,aAAY,UAAEC,MAAF,EAAc;AAChC,YAAK,CAAE,0BAAaA,MAAb,CAAP,EAA+B;AAC9B,iBAAOD,IAAI,CAAEC,MAAF,CAAX;AACA;;AAED,eAAOH,OAAO,CAAEG,MAAF,CAAd;AACA,OANM;AAAA,KAAP;AAOA,GATD;AAUA","sourcesContent":["/**\n * Internal dependencies\n */\nimport isGenerator from './is-generator';\nimport createRuntime from './runtime';\n\n/**\n * Creates a Redux middleware, given an object of controls where each key is an\n * action type for which to act upon, the value a function which returns either\n * a promise which is to resolve when evaluation of the action should continue,\n * or a value. The value or resolved promise value is assigned on the return\n * value of the yield assignment. If the control handler returns undefined, the\n * execution is not continued.\n *\n * @param {Object} controls Object of control handlers.\n *\n * @return {Function} Co-routine runtime\n */\nexport default function createMiddleware( controls = {} ) {\n\treturn ( store ) => {\n\t\tconst runtime = createRuntime( controls, store.dispatch );\n\t\treturn ( next ) => ( action ) => {\n\t\t\tif ( ! isGenerator( action ) ) {\n\t\t\t\treturn next( action );\n\t\t\t}\n\n\t\t\treturn runtime( action );\n\t\t};\n\t};\n}\n"]}