{"version":3,"sources":["/Users/riad/Workspace/a8c/gutenberg/packages/data/src/store/utils.js"],"names":["onSubKey","actionProperty","reducer","state","action","key","undefined","nextKeyState"],"mappings":";;;AAAA;;;;;;;;AAQA,OAAO,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAAEC,cAAF;AAAA,SAAsB,UAAEC,OAAF;AAAA,WAAe,YAA0B;AAAA,UAAxBC,KAAwB,uEAAhB,EAAgB;AAAA,UAAZC,MAAY;AACtF;AACA;AACA,UAAMC,GAAG,GAAGD,MAAM,CAAEH,cAAF,CAAlB;;AACA,UAAKI,GAAG,KAAKC,SAAb,EAAyB;AACxB,eAAOH,KAAP;AACA,OANqF,CAQtF;AACA;;;AACA,UAAMI,YAAY,GAAGL,OAAO,CAAEC,KAAK,CAAEE,GAAF,CAAP,EAAgBD,MAAhB,CAA5B;;AACA,UAAKG,YAAY,KAAKJ,KAAK,CAAEE,GAAF,CAA3B,EAAqC;AACpC,eAAOF,KAAP;AACA;;AAED,+BACIA,KADJ,sBAEGE,GAFH,EAEUE,YAFV;AAIA,KAnB6C;AAAA,GAAtB;AAAA,CAAjB","sourcesContent":["/**\n * Higher-order reducer creator which creates a combined reducer object, keyed\n * by a property on the action object.\n *\n * @param {string} actionProperty Action property by which to key object.\n *\n * @return {Function} Higher-order reducer.\n */\nexport const onSubKey = ( actionProperty ) => ( reducer ) => ( state = {}, action ) => {\n\t// Retrieve subkey from action. Do not track if undefined; useful for cases\n\t// where reducer is scoped by action shape.\n\tconst key = action[ actionProperty ];\n\tif ( key === undefined ) {\n\t\treturn state;\n\t}\n\n\t// Avoid updating state if unchanged. Note that this also accounts for a\n\t// reducer which returns undefined on a key which is not yet tracked.\n\tconst nextKeyState = reducer( state[ key ], action );\n\tif ( nextKeyState === state[ key ] ) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\t...state,\n\t\t[ key ]: nextKeyState,\n\t};\n};\n"]}