{"version":3,"sources":["/Users/riad/Workspace/a8c/gutenberg/packages/api-fetch/src/middlewares/namespace-endpoint.js"],"names":["namespaceAndEndpointMiddleware","options","next","path","namespaceTrimmed","endpointTrimmed","namespace","endpoint","replace"],"mappings":";;;;;;;;;;;AAAA,IAAMA,8BAA8B,GAAG,SAAjCA,8BAAiC,CAAEC,OAAF,EAAWC,IAAX,EAAqB;AAC3D,MAAIC,IAAI,GAAGF,OAAO,CAACE,IAAnB;AACA,MAAIC,gBAAJ,EAAsBC,eAAtB;;AAEA,MACC,OAAOJ,OAAO,CAACK,SAAf,KAA6B,QAA7B,IACC,OAAOL,OAAO,CAACM,QAAf,KAA4B,QAF9B,EAGE;AACDH,IAAAA,gBAAgB,GAAGH,OAAO,CAACK,SAAR,CAAkBE,OAAlB,CAA2B,UAA3B,EAAuC,EAAvC,CAAnB;AACAH,IAAAA,eAAe,GAAGJ,OAAO,CAACM,QAAR,CAAiBC,OAAjB,CAA0B,KAA1B,EAAiC,EAAjC,CAAlB;;AACA,QAAKH,eAAL,EAAuB;AACtBF,MAAAA,IAAI,GAAGC,gBAAgB,GAAG,GAAnB,GAAyBC,eAAhC;AACA,KAFD,MAEO;AACNF,MAAAA,IAAI,GAAGC,gBAAP;AACA;AACD;;AAED,SAAOH,OAAO,CAACK,SAAf;AACA,SAAOL,OAAO,CAACM,QAAf;AAEA,SAAOL,IAAI,iCACPD,OADO;AAEVE,IAAAA,IAAI,EAAJA;AAFU,KAAX;AAIA,CAxBD;;eA0BeH,8B","sourcesContent":["const namespaceAndEndpointMiddleware = ( options, next ) => {\n\tlet path = options.path;\n\tlet namespaceTrimmed, endpointTrimmed;\n\n\tif (\n\t\ttypeof options.namespace === 'string' &&\n\t\t\ttypeof options.endpoint === 'string'\n\t) {\n\t\tnamespaceTrimmed = options.namespace.replace( /^\\/|\\/$/g, '' );\n\t\tendpointTrimmed = options.endpoint.replace( /^\\//, '' );\n\t\tif ( endpointTrimmed ) {\n\t\t\tpath = namespaceTrimmed + '/' + endpointTrimmed;\n\t\t} else {\n\t\t\tpath = namespaceTrimmed;\n\t\t}\n\t}\n\n\tdelete options.namespace;\n\tdelete options.endpoint;\n\n\treturn next( {\n\t\t...options,\n\t\tpath,\n\t} );\n};\n\nexport default namespaceAndEndpointMiddleware;\n"]}