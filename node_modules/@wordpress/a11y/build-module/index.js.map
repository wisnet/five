{"version":3,"sources":["/Users/gziolo/PhpstormProjects/gutenberg/packages/a11y/src/index.js"],"names":["addContainer","clear","domReady","filterMessage","setup","containerPolite","document","getElementById","containerAssertive","speak","message","ariaLive","textContent"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,gBAAzB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAEA;;;;AAGA,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAW;AAC/B,MAAIC,eAAe,GAAGC,QAAQ,CAACC,cAAT,CAAyB,mBAAzB,CAAtB;AACA,MAAIC,kBAAkB,GAAGF,QAAQ,CAACC,cAAT,CAAyB,sBAAzB,CAAzB;;AAEA,MAAKF,eAAe,KAAK,IAAzB,EAAgC;AAC/BA,IAAAA,eAAe,GAAGL,YAAY,CAAE,QAAF,CAA9B;AACA;;AACD,MAAKQ,kBAAkB,KAAK,IAA5B,EAAmC;AAClCA,IAAAA,kBAAkB,GAAGR,YAAY,CAAE,WAAF,CAAjC;AACA;AACD,CAVM;AAYP;;;;AAGAE,QAAQ,CAAEE,KAAF,CAAR;AAEA;;;;;;;;AAOA,OAAO,IAAMK,KAAK,GAAG,SAARA,KAAQ,CAAUC,OAAV,EAAmBC,QAAnB,EAA8B;AAClD;AACAV,EAAAA,KAAK;AAELS,EAAAA,OAAO,GAAGP,aAAa,CAAEO,OAAF,CAAvB;AAEA,MAAML,eAAe,GAAGC,QAAQ,CAACC,cAAT,CAAyB,mBAAzB,CAAxB;AACA,MAAMC,kBAAkB,GAAGF,QAAQ,CAACC,cAAT,CAAyB,sBAAzB,CAA3B;;AAEA,MAAKC,kBAAkB,IAAI,gBAAgBG,QAA3C,EAAsD;AACrDH,IAAAA,kBAAkB,CAACI,WAAnB,GAAiCF,OAAjC;AACA,GAFD,MAEO,IAAKL,eAAL,EAAuB;AAC7BA,IAAAA,eAAe,CAACO,WAAhB,GAA8BF,OAA9B;AACA;AACD,CAdM","sourcesContent":["import addContainer from './addContainer';\nimport clear from './clear';\nimport domReady from '@wordpress/dom-ready';\nimport filterMessage from './filterMessage';\n\n/**\n * Create the live regions.\n */\nexport const setup = function() {\n\tlet containerPolite = document.getElementById( 'a11y-speak-polite' );\n\tlet containerAssertive = document.getElementById( 'a11y-speak-assertive' );\n\n\tif ( containerPolite === null ) {\n\t\tcontainerPolite = addContainer( 'polite' );\n\t}\n\tif ( containerAssertive === null ) {\n\t\tcontainerAssertive = addContainer( 'assertive' );\n\t}\n};\n\n/**\n * Run setup on domReady.\n */\ndomReady( setup );\n\n/**\n * Update the ARIA live notification area text node.\n *\n * @param {string} message  The message to be announced by Assistive Technologies.\n * @param {string} ariaLive Optional. The politeness level for aria-live. Possible values:\n *                          polite or assertive. Default polite.\n */\nexport const speak = function( message, ariaLive ) {\n\t// Clear previous messages to allow repeated strings being read out.\n\tclear();\n\n\tmessage = filterMessage( message );\n\n\tconst containerPolite = document.getElementById( 'a11y-speak-polite' );\n\tconst containerAssertive = document.getElementById( 'a11y-speak-assertive' );\n\n\tif ( containerAssertive && 'assertive' === ariaLive ) {\n\t\tcontainerAssertive.textContent = message;\n\t} else if ( containerPolite ) {\n\t\tcontainerPolite.textContent = message;\n\t}\n};\n"]}