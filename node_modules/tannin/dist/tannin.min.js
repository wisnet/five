var Tannin=function(){"use strict";var s,f,c,a;s={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},f=["(","?"],c={")":["("],":":["?","?:"]},a=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var l={"!":function(n){return!n},"*":function(n,t){return n*t},"/":function(n,t){return n/t},"%":function(n,t){return n%t},"+":function(n,t){return n+t},"-":function(n,t){return n-t},"<":function(n,t){return n<t},"<=":function(n,t){return n<=t},">":function(n,t){return t<n},">=":function(n,t){return t<=n},"==":function(n,t){return n===t},"!=":function(n,t){return n!==t},"&&":function(n,t){return n&&t},"||":function(n,t){return n||t},"?:":function(n,t,r){if(n)throw t;return r}};function e(n){var t=function(n){for(var t,r,i,u,o=[],e=[];t=n.match(a);){for(r=t[0],(i=n.substr(0,t.index).trim())&&o.push(i);u=e.pop();){if(c[r]){if(c[r][0]===u){r=c[r][1]||r;break}}else if(0<=f.indexOf(u)||s[u]<s[r]){e.push(u);break}o.push(u)}c[r]||e.push(r),n=n.substr(t.index+r.length)}return(n=n.trim())&&o.push(n),o.concat(e.reverse())}(n);return function(n){return function(n,t){var r,i,u,o,e=[];for(r=0;r<n.length;r++){if(u=n[r],i=l[u])try{o=i.apply(null,e.splice(-1*i.length))}catch(n){return n}else o=t.hasOwnProperty(u)?t[u]:+u;e.push(o)}return e[0]}(t,n)}}var i={contextDelimiter:"",onMissingKey:null};function n(n,t){var r;for(r in this.data=n,this.pluralForms={},t=t||{},this.options={},i)this.options[r]=t[r]||i[r]}return n.prototype.getPluralForm=function(n,t){var r,i,u,o=this.pluralForms[n];return o||(i=function(n){var t,r,i;for(t=n.split(";"),r=0;r<t.length;r++)if(0===(i=t[r].trim()).indexOf("plural="))return i.substr(7)}((r=this.data[n][""])["Plural-Forms"]||r["plural-forms"]||r.plural_forms),o=this.pluralForms[n]=(u=e(i),function(n){return+u({n:n})})),o(t)},n.prototype.dcnpgettext=function(n,t,r,i,u){var o,e,s;return o=void 0===u?0:this.getPluralForm(n,u),e=r,t&&(e=t+this.options.contextDelimiter+r),(s=this.data[n][e])&&s[o]?s[o]:(this.options.onMissingKey&&this.options.onMissingKey(r,n),0===o?r:i)},n}();
